{"version":3,"file":"index.js","sources":["pages/records/index.vue","pages/records/index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"records-page\">\n    <view class=\"summary-panel\">\n      <!-- <view class=\"summary-panel__bg summary-panel__bg--left\"></view>\n      <view class=\"summary-panel__bg summary-panel__bg--right\"></view> -->\n      <view class=\"summary-head\">\n        <picker\n          class=\"summary-picker\"\n          mode=\"selector\"\n          :range=\"yearOptions\"\n          :value=\"selectedYearIndex\"\n          @change=\"handleYearChange\"\n        >\n          <view class=\"summary-year\">\n            <text>{{ currentYear }}</text>\n            <text class=\"summary-year__arrow\">⌄</text>\n          </view>\n        </picker>\n        <view class=\"summary-chip\">年度油耗概览</view>\n      </view>\n      <view class=\"summary-total\">\n        <text class=\"summary-total__value\">{{ summaryCard.totalAmount }}</text>\n        <text class=\"summary-total__label\">本年总花费</text>\n      </view>\n      <view class=\"summary-grid\">\n        <view class=\"summary-stat\">\n          <text class=\"summary-stat__label\">平均油耗</text>\n          <text class=\"summary-stat__value\">{{ summaryCard.avgFuel }}</text>\n        </view>\n        <view class=\"summary-stat\">\n          <text class=\"summary-stat__label\">平均单价</text>\n          <text class=\"summary-stat__value\">{{ summaryCard.pricePerLiter }}</text>\n        </view>\n        <view class=\"summary-stat\">\n          <text class=\"summary-stat__label\">累计里程</text>\n          <text class=\"summary-stat__value\">{{ summaryCard.mileage }}</text>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"records-list\">\n      <template v-for=\"entry in visibleRecords\" :key=\"entry.id\">\n        <view\n          v-if=\"isRecordItem(entry)\"\n          class=\"record-card\"\n          :class=\"{\n            'record-card--compact': entry.compact,\n            'record-card--alert': entry.highlight === 'danger'\n          }\"\n        >\n          <view class=\"record-card__top\">\n            <view class=\"record-date\">\n              <text class=\"record-date__value\">{{ entry.date }}</text>\n              <text v-if=\"entry.week\" class=\"record-date__week\">\n                {{ entry.week }}\n              </text>\n            </view>\n            <view class=\"record-consumption\">\n              <text class=\"record-consumption__value\">{{\n                entry.consumption\n              }}</text>\n              <text class=\"record-consumption__unit\">升/百公里</text>\n            </view>\n            <view class=\"record-mileage\">\n              <text class=\"record-mileage__value\">{{ entry.mileage }}</text>\n              <text class=\"record-mileage__unit\">公里</text>\n            </view>\n            <text class=\"record-arrow\">›</text>\n          </view>\n          <view class=\"record-meta\" v-if=\"entry.meta\">\n            <view\n              class=\"record-meta__item\"\n              v-for=\"meta in entry.meta\"\n              :key=\"meta.value + meta.caption\"\n            >\n              <text class=\"record-meta__value\">{{ meta.value }}</text>\n              <text class=\"record-meta__label\">{{ meta.caption }}</text>\n            </view>\n          </view>\n          <view\n            class=\"record-remark\"\n            v-if=\"entry.remark || entry.showEdit\"\n          >\n            <text\n              v-if=\"entry.remark\"\n              class=\"record-remark__text\"\n              :class=\"{\n                'record-remark__text--danger': entry.remarkTone === 'danger',\n                'record-remark__text--accent': entry.remarkTone === 'accent'\n              }\"\n            >\n              {{ entry.remark }}\n            </text>\n            <view class=\"record-edit\" v-if=\"entry.showEdit\">✎</view>\n          </view>\n        </view>\n\n        <view\n          v-else\n          class=\"comparison-card\"\n          :class=\"{\n            'comparison-card--success': entry.tone === 'success'\n          }\"\n        >\n          <view class=\"comparison-value\">{{ entry.pricePerKm }}</view>\n          <view class=\"comparison-value\">{{ entry.deltaFuel }}</view>\n          <view class=\"comparison-value\">{{ entry.deltaMileage }}</view>\n          <text class=\"comparison-arrow\">›</text>\n        </view>\n      </template>\n    </view>\n  </view>\n  <BottomActionBar active=\"list\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\nimport BottomActionBar from '@/components/BottomActionBar.vue'\n\ntype RecordMeta = {\n  value: string\n  caption: string\n}\n\ntype FuelRecordItem = {\n  type: 'record'\n  id: string\n  date: string\n  week?: string\n  consumption: string\n  mileage: string\n  meta?: RecordMeta[]\n  remark?: string\n  remarkTone?: 'danger' | 'accent'\n  showEdit?: boolean\n  compact?: boolean\n  highlight?: 'danger'\n}\n\ntype ComparisonItem = {\n  type: 'comparison'\n  id: string\n  pricePerKm: string\n  deltaFuel: string\n  deltaMileage: string\n  tone?: 'success'\n}\n\ntype FuelRecord = FuelRecordItem | ComparisonItem\n\ntype SummarySnapshot = {\n  totalAmount: string\n  avgFuel: string\n  pricePerLiter: string\n  mileage: string\n}\n\nconst yearOptions = ['2025年', '2024年', '2023年']\nconst selectedYearIndex = ref(0)\n\nconst summarySnapshots: Record<string, SummarySnapshot> = {\n  '2025年': {\n    totalAmount: '836.70元',\n    avgFuel: '5.71升/百公里',\n    pricePerLiter: '7.12元/升',\n    mileage: '1,577公里'\n  },\n  '2024年': {\n    totalAmount: '1,120.80元',\n    avgFuel: '6.04升/百公里',\n    pricePerLiter: '7.03元/升',\n    mileage: '2,318公里'\n  },\n  '2023年': {\n    totalAmount: '906.40元',\n    avgFuel: '5.83升/百公里',\n    pricePerLiter: '6.87元/升',\n    mileage: '1,980公里'\n  }\n}\n\nconst recordSnapshots: Record<string, FuelRecord[]> = {\n  '2025年': [\n    {\n      type: 'record',\n      id: '2025-10-18',\n      date: '10/18',\n      week: '周五',\n      consumption: '4.80',\n      mileage: '1587',\n      meta: [\n        { value: '200.00元', caption: '花费' },\n        { value: '7.12元/升', caption: '单价' },\n        { value: '+28.09升', caption: '油量' }\n      ],\n      remark: '92#汽油  加满',\n      remarkTone: 'danger',\n      showEdit: true\n    },\n    {\n      type: 'comparison',\n      id: '2025-compare-1',\n      pricePerKm: '0.34元/公里',\n      deltaFuel: '-28.09升',\n      deltaMileage: '+585.00公里',\n      tone: 'success'\n    },\n    {\n      type: 'record',\n      id: '2025-10-09',\n      date: '10/09',\n      consumption: '8.59',\n      mileage: '1002',\n      highlight: 'danger',\n      compact: true\n    },\n    {\n      type: 'record',\n      id: '2025-10-02',\n      date: '10/02',\n      consumption: '4.72',\n      mileage: '611',\n      compact: true\n    },\n    {\n      type: 'record',\n      id: '2025-10-01',\n      date: '10/01',\n      consumption: '5.10',\n      mileage: '510',\n      compact: true\n    },\n    {\n      type: 'record',\n      id: '2025-10-01',\n      date: '10/01',\n      consumption: '5.10',\n      mileage: '510',\n      compact: true\n    },\n    {\n      type: 'record',\n      id: '2025-10-01',\n      date: '10/01',\n      consumption: '5.10',\n      mileage: '510',\n      compact: true\n    }\n  ],\n  '2024年': [\n    {\n      type: 'record',\n      id: '2024-12-22',\n      date: '12/22',\n      consumption: '5.02',\n      mileage: '1320',\n      meta: [\n        { value: '180.00元', caption: '花费' },\n        { value: '6.90元/升', caption: '单价' },\n        { value: '+25.21升', caption: '油量' }\n      ],\n      remark: '95#汽油  七成满',\n      remarkTone: 'accent'\n    },\n    {\n      type: 'record',\n      id: '2024-11-02',\n      date: '11/02',\n      consumption: '6.40',\n      mileage: '820',\n      compact: true\n    }\n  ],\n  '2023年': [\n    {\n      type: 'record',\n      id: '2023-07-03',\n      date: '07/03',\n      consumption: '5.30',\n      mileage: '730',\n      compact: true\n    }\n  ]\n}\n\nconst currentYear = computed(\n  () => yearOptions[selectedYearIndex.value] || yearOptions[0]\n)\n\nconst summaryCard = computed(\n  () => summarySnapshots[currentYear.value] || summarySnapshots[yearOptions[0]]\n)\n\nconst visibleRecords = computed(\n  () => recordSnapshots[currentYear.value] || []\n)\n\nconst handleYearChange = (event: { detail: { value: number } }) => {\n  selectedYearIndex.value = Number(event.detail.value)\n}\n\nconst isRecordItem = (entry: FuelRecord): entry is FuelRecordItem =>\n  entry.type === 'record'\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/uni.scss';\n\n.records-page {\n  min-height: 100vh;\n  background: linear-gradient(180deg, #f8fbff 0%, #f2f4f9 100%);\n  padding: 24rpx 32rpx 180rpx;\n}\n\n\n.summary-panel {\n  position: relative;\n  overflow: hidden;\n  padding: 32rpx;\n  border-radius: 32rpx;\n  background: linear-gradient(110deg, #cde6ff, #dfeeff 70%);\n  box-shadow: 0 20rpx 40rpx rgba(0, 83, 156, 0.1);\n  margin-bottom: 32rpx;\n}\n\n.summary-panel__bg {\n  position: absolute;\n  width: 200rpx;\n  height: 200rpx;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.3);\n  filter: blur(0.5px);\n}\n\n.summary-panel__bg--left {\n  top: -40rpx;\n  left: -40rpx;\n}\n\n.summary-panel__bg--right {\n  bottom: -60rpx;\n  right: -20rpx;\n}\n\n.summary-head {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24rpx;\n  position: relative;\n  z-index: 1;\n}\n\n.summary-picker {\n  // width: 260rpx;\n}\n\n.summary-year {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  padding: 10rpx 18rpx;\n  border-radius: 30rpx;\n  border: 2rpx solid rgba(255, 255, 255, 0.6);\n  color: #1f2329;\n  font-size: 26rpx;\n  font-weight: 600;\n  background: rgba(255, 255, 255, 0.6);\n}\n\n.summary-year__arrow {\n  font-size: 24rpx;\n}\n\n.summary-chip {\n  padding: 10rpx 20rpx;\n  border-radius: 30rpx;\n  font-size: 24rpx;\n  color: #1f2329;\n  background: rgba(255, 255, 255, 0.7);\n}\n\n.summary-total {\n  position: relative;\n  z-index: 1;\n  margin-bottom: 28rpx;\n}\n\n.summary-total__value {\n  font-size: 48rpx;\n  font-weight: 700;\n}\n\n.summary-total__label {\n  display: block;\n  font-size: 24rpx;\n  color: rgba(10, 41, 90, 0.7);\n}\n\n.summary-grid {\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n  z-index: 1;\n}\n\n.summary-stat {\n  flex: 1;\n  color: #1f2329;\n}\n\n.summary-stat:not(:last-child) {\n  border-right: 2rpx solid rgba(255, 255, 255, 0.4);\n  margin-right: 16rpx;\n  padding-right: 16rpx;\n}\n\n.summary-stat__label {\n  display: block;\n  font-size: 24rpx;\n  opacity: 0.8;\n}\n\n.summary-stat__value {\n  display: block;\n  font-size: 28rpx;\n  font-weight: 600;\n}\n\n.records-list {\n  display: flex;\n  flex-direction: column;\n  gap: 20rpx;\n}\n\n.record-card {\n  background: #fff;\n  border-radius: 28rpx;\n  padding: 28rpx;\n  box-shadow: 0 12rpx 30rpx rgba(15, 114, 59, 0.08);\n}\n\n.record-card--compact {\n  padding: 24rpx;\n}\n\n.record-card--alert .record-consumption__value {\n  color: #e64a3b;\n}\n\n.record-card__top {\n  display: flex;\n  align-items: flex-end;\n  gap: 12rpx;\n}\n\n.record-date {\n  flex: 1;\n  position: relative;\n  padding-left: 20rpx;\n}\n\n.record-date::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 8rpx;\n  width: 6rpx;\n  height: 32rpx;\n  border-radius: 4rpx;\n  background: linear-gradient(180deg, #00a3ff, #4bc9ff);\n}\n\n.record-date__value {\n  font-size: 32rpx;\n  font-weight: 700;\n}\n\n.record-date__week {\n  display: block;\n  font-size: 22rpx;\n  color: $muted-text;\n}\n\n.record-consumption {\n  display: flex;\n  align-items: flex-end;\n  gap: 8rpx;\n}\n\n.record-consumption__value {\n  font-size: 40rpx;\n  font-weight: 700;\n  color: $primary-dark;\n}\n\n.record-consumption__unit {\n  font-size: 24rpx;\n  color: $muted-text;\n}\n\n.record-mileage {\n  margin-left: auto;\n  text-align: right;\n}\n\n.record-mileage__value {\n  font-size: 32rpx;\n  font-weight: 600;\n}\n\n.record-mileage__unit {\n  display: block;\n  font-size: 22rpx;\n  color: $muted-text;\n}\n\n.record-arrow {\n  font-size: 36rpx;\n  color: $muted-text;\n  padding-left: 12rpx;\n}\n\n.record-meta {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 24rpx;\n}\n\n.record-meta__item {\n  flex: 1;\n  text-align: center;\n}\n\n.record-meta__value {\n  display: block;\n  font-size: 28rpx;\n  font-weight: 600;\n}\n\n.record-meta__label {\n  font-size: 22rpx;\n  color: $muted-text;\n}\n\n.record-remark {\n  margin-top: 18rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.record-remark__text {\n  font-size: 24rpx;\n  color: $muted-text;\n}\n\n.record-remark__text--danger {\n  color: #d44848;\n}\n\n.record-remark__text--accent {\n  color: $primary-dark;\n}\n\n.record-edit {\n  width: 44rpx;\n  height: 44rpx;\n  border-radius: 14rpx;\n  border: 2rpx solid rgba(31, 35, 41, 0.15);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 26rpx;\n  color: #1f2329;\n}\n\n.comparison-card {\n  background: #f5fbf6;\n  border-radius: 28rpx;\n  padding: 26rpx;\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n  border: 2rpx solid rgba(30, 193, 95, 0.1);\n}\n\n.comparison-card--success {\n  background: rgba(30, 193, 95, 0.12);\n  border-color: rgba(30, 193, 95, 0.3);\n}\n\n.comparison-value {\n  flex: 1;\n  font-size: 28rpx;\n  font-weight: 600;\n  color: #1f2329;\n  text-align: center;\n}\n\n.comparison-arrow {\n  font-size: 32rpx;\n  color: $muted-text;\n}\n</style>\n","import MiniProgramPage from '/Users/alan2/Downloads/zm/cat-life-uniapp-wechat/pages/records/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed"],"mappings":"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"}
{"version":3,"file":"index.js","sources":["pages/records/index.vue","../../../App/hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVjb3Jkcy9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"records-page\">\r\n    <view\r\n      class=\"summary-panel animated-block animated-block--delay-0\"\r\n      :class=\"{ 'animated-block--visible': isPageAnimated }\"\r\n    >\r\n      <!-- <view class=\"summary-panel__bg summary-panel__bg--left\"></view>\r\n      <view class=\"summary-panel__bg summary-panel__bg--right\"></view> -->\r\n      <view class=\"summary-head\">\r\n        <picker\r\n          class=\"summary-picker\"\r\n          mode=\"selector\"\r\n          :range=\"yearOptions\"\r\n          :value=\"selectedYearIndex\"\r\n          @change=\"handleYearChange\"\r\n        >\r\n          <view class=\"summary-year\">\r\n            <text>{{ currentYear }}</text>\r\n            <text class=\"iconfont icon-youjiantou\"></text>\r\n            <!-- <text class=\"iconfont icon-youjiantou\"></text> -->\r\n          </view>\r\n        </picker>\r\n        <view class=\"summary-chip\">年度油耗概况</view>\r\n      </view>\r\n      <view class=\"summary-total\">\r\n        <text class=\"summary-total__value\">{{ summaryCard.totalAmount }}</text>\r\n        <text class=\"summary-total__label\">本年总花费</text>\r\n      </view>\r\n      <view class=\"summary-grid\">\r\n        <view class=\"summary-stat\">\r\n          <text class=\"summary-stat__label\">平均油耗</text>\r\n          <text class=\"summary-stat__value\">{{ summaryCard.avgFuel }}</text>\r\n        </view>\r\n        <view class=\"summary-stat\">\r\n          <text class=\"summary-stat__label\">平均油价</text>\r\n          <text class=\"summary-stat__value\">{{ summaryCard.pricePerLiter }}</text>\r\n        </view>\r\n        <view class=\"summary-stat\">\r\n          <text class=\"summary-stat__label\">总里程</text>\r\n          <text class=\"summary-stat__value\">{{ summaryCard.mileage }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"records-list\">\r\n      <template v-for=\"(entry, entryIndex) in visibleRecords\" :key=\"entry.id\">\r\n        <view\r\n          v-if=\"isRecordItem(entry)\"\r\n          hover-class=\"record-card__hover\"\r\n          :class=\"[\r\n            'record-card',\r\n            'list-animated',\r\n            { 'list-animated--visible': isPageAnimated },\r\n            {\r\n              'record-card--compact': entry.compact,\r\n              'record-card--alert': entry.highlight === 'danger',\r\n              'record-card--expanded': isExpanded(entry.id)\r\n            }\r\n          ]\"\r\n          :style=\"getListAnimatedStyle(entryIndex)\"\r\n          @tap=\"toggleRecord(entry)\"\r\n        >\r\n          <view class=\"record-card__top\">\r\n            <view class=\"record-date\">\r\n              <text class=\"record-date__value\">{{ entry.date }}</text>\r\n            </view>\r\n            <view class=\"record-consumption\">\r\n              <text class=\"record-consumption__value\">{{\r\n                entry.consumption\r\n              }}</text>\r\n              <text class=\"record-consumption__unit\">升/百公里</text>\r\n            </view>\r\n            <view class=\"record-mileage\">\r\n              <text class=\"record-mileage__value\">{{ entry.mileage }}</text>\r\n              <text class=\"record-mileage__unit\">公里</text>\r\n            </view>\r\n            <text\r\n              class=\"record-arrow iconfont icon-youjiantou\"\r\n              :class=\"{ 'record-arrow--expanded': isExpanded(entry.id) }\"\r\n            ></text>\r\n          </view>\r\n\r\n          <view class=\"record-details\" v-show=\"isExpanded(entry.id)\">\r\n            <!-- 2222-{{ isExpanded(entry.id) }} -->\r\n            <view class=\"record-meta\">\r\n              <text class=\"record-meta__value\">{{\r\n                entry.amount ? entry.amount + '元' : '--'\r\n              }}</text>\r\n              <text class=\"record-meta__value\">{{\r\n                entry.pricePerLiter ? entry.pricePerLiter + '元/升' : '--'\r\n              }}</text>\r\n              <text class=\"record-meta__value\">{{\r\n                entry.deltaFuel ? entry.deltaFuel + '升' : '--'\r\n              }}</text>\r\n            </view>\r\n            <view class=\"record-remark\">\r\n              <text class=\"record-remark__text\">\r\n                <text class=\"record-remark__oil\">{{\r\n                  entry.oilType || '--'\r\n                }}</text>\r\n                <text\r\n                  v-if=\"entry.fillStatus\"\r\n                  class=\"record-remark__status\"\r\n                  :class=\"{\r\n                    'record-remark__status--danger':\r\n                      entry.fillStatusTone === 'danger',\r\n                    'record-remark__status--accent':\r\n                      entry.fillStatusTone === 'accent'\r\n                  }\"\r\n                >\r\n                  {{ entry.fillStatus }}\r\n                </text>\r\n              </text>\r\n              <view class=\"record-edit\">✎</view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n\r\n        <view\r\n          v-if=\"isRecordItem(entry) && isExpanded(entry.id)\"\r\n          :class=\"[\r\n            'comparison-card',\r\n            'comparison-card--success',\r\n            'list-animated',\r\n            { 'list-animated--visible': isPageAnimated }\r\n          ]\"\r\n          :style=\"getListAnimatedStyle(entryIndex, 'comparison')\"\r\n        >\r\n          <!-- 3333-{{ isExpanded(entry.id) }} -->\r\n          <view class=\"comparison-value\">{{ entry.pricePerKm ? entry.pricePerKm + '元/公里' : '--' }}</view>\r\n          <view class=\"comparison-value\">{{ entry.fuelConsumption ? entry.fuelConsumption + '升' : '--' }}</view>\r\n          <view class=\"comparison-value\">{{ entry.deltaMileage ? entry.deltaMileage + '公里' : '--' }}</view>\r\n          <text class=\"comparison-arrow iconfont icon-xiangyou\"></text>\r\n        </view>\r\n      </template>\r\n    </view>\r\n  </view>\n  <LoginOverlay v-model:visible=\"showLoginSheet\" />\n  <BottomActionBar\n    active=\"list\"\n    :is-logged-in=\"isLoggedIn\"\n    @login-required=\"handleLoginRequired\"\n  />\n</template>\n\r\n<script setup lang=\"ts\">\r\nimport { onShow } from '@dcloudio/uni-app'\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport BottomActionBar from '@/components/BottomActionBar.vue'\nimport LoginOverlay from '@/components/LoginOverlay.vue'\nimport { useAuth } from '@/utils/auth'\n\r\ntype FuelRecordItem = {\r\n  type: 'record'\r\n  id: string\r\n  date: string\r\n  week?: string\r\n  consumption: string\r\n  mileage: string\r\n  amount?: string\r\n  pricePerLiter?: string\r\n  deltaFuel?: string\r\n  oilType?: string\r\n  fillStatus?: string\r\n  fillStatusTone?: 'danger' | 'accent'\r\n  compact?: boolean\r\n  highlight?: 'danger'\r\n  fuelConsumption?: string\r\n  deltaMileage?: string\r\n  pricePerKm?: string\r\n}\r\n\r\ntype ComparisonItem = {\r\n  type: 'comparison'\r\n  id: string\r\n  pricePerKm: string\r\n  deltaFuel: string\r\n  deltaMileage: string\r\n  tone?: 'success'\r\n}\r\n\r\ntype FuelRecord = FuelRecordItem | ComparisonItem\n\ntype SummarySnapshot = {\n  totalAmount: string\n  avgFuel: string\n  pricePerLiter: string\n  mileage: string\n}\n\nconst { isLoggedIn, refreshLoginState } = useAuth()\nconst showLoginSheet = ref(false)\n\nconst yearOptions = ['2025', '2024', '2023']\nconst selectedYearIndex = ref(0)\n\r\nconst summarySnapshots: Record<string, SummarySnapshot> = {\r\n  '2025': {\r\n    totalAmount: '836.70',\r\n    avgFuel: '5.71',\r\n    pricePerLiter: '7.12',\r\n    mileage: '1,577'\r\n  }\r\n}\r\n\r\nconst recordSnapshots: Record<string, FuelRecord[]> = {\r\n  '2025': [\r\n    {\r\n      type: 'record',\r\n      id: '2025-10-18',\r\n      date: '10/18',\r\n      consumption: '4.80',\r\n      mileage: '1587',\r\n      amount: '200.00',\r\n      pricePerLiter: '7.12',\r\n      deltaFuel: '+28.09',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2025-10-09',\r\n      date: '10/09',\r\n      consumption: '8.59',\r\n      mileage: '1002',\r\n      highlight: 'danger',\r\n      compact: true,\r\n      amount: '186.00',\r\n      pricePerLiter: '7.20',\r\n      deltaFuel: '+25.80',\r\n      oilType: '95#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2025-10-02',\r\n      date: '10/02',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2025-10-01',\r\n      date: '10/01',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2025-09-26',\r\n      date: '09/26',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2025-09-15',\r\n      date: '09/15',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2025-09-10',\r\n      date: '09/01',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2025-09-03',\r\n      date: '09/01',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2025-09-01',\r\n      date: '09/01',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    }\r\n  ],\r\n  '2024': [\r\n    {\r\n      type: 'record',\r\n      id: '2024-12-22',\r\n      date: '12/22',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    },\r\n    {\r\n      type: 'record',\r\n      id: '2024-11-02',\r\n      date: '11/02',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    }\r\n  ],\r\n  '2023': [\r\n    {\r\n      type: 'record',\r\n      id: '2023-07-03',\r\n      date: '07/03',\r\n      consumption: '4.72',\r\n      mileage: '611',\r\n      compact: true,\r\n      amount: '160.00',\r\n      pricePerLiter: '6.90',\r\n      deltaFuel: '+23.30',\r\n      oilType: '92#汽油',\r\n      fillStatus: '加满',\r\n      fillStatusTone: 'danger',\r\n      fuelConsumption:'-28.09',\r\n      deltaMileage: '+585.00',\r\n      pricePerKm: '0.34',\r\n    }\r\n  ]\r\n}\r\n\r\nconst currentYear = computed(\r\n  () => yearOptions[selectedYearIndex.value] || yearOptions[0]\r\n)\r\n\r\nconst summaryCard = computed(\r\n  () => summarySnapshots[currentYear.value] || summarySnapshots[yearOptions[0]]\r\n)\r\n\r\nconst visibleRecords = computed(\r\n  () => recordSnapshots[currentYear.value] || []\r\n)\r\n\r\nconst isPageAnimated = ref(false)\r\nlet enterAnimationTimer: ReturnType<typeof setTimeout> | null = null\r\n\r\nconst runPageEnterAnimation = () => {\r\n  if (enterAnimationTimer) {\r\n    clearTimeout(enterAnimationTimer)\r\n    enterAnimationTimer = null\r\n  }\r\n  isPageAnimated.value = false\r\n  enterAnimationTimer = setTimeout(() => {\r\n    isPageAnimated.value = true\r\n  }, 40)\r\n}\r\n\r\nconst getListAnimatedStyle = (\r\n  index: number,\r\n  variant: 'card' | 'comparison' = 'card'\r\n) => {\r\n  const limitedIndex = Math.min(index, 6)\r\n  const baseOffset = variant === 'comparison' ? 140 : 60\r\n  return {\r\n    '--list-delay': `${limitedIndex * 70 + baseOffset}ms`\r\n  }\r\n}\r\n\r\nconst handleYearChange = (event: { detail: { value: number } }) => {\r\n  selectedYearIndex.value = Number(event.detail.value)\r\n}\r\n\r\nconst isRecordItem = (entry: FuelRecord): entry is FuelRecordItem =>\r\n  entry.type === 'record'\r\n\r\nconst expandedRecordMap = ref<Record<string, boolean>>({})\r\n\r\nconst isExpanded = (id: string) => Boolean(expandedRecordMap.value[id])\r\n\r\nconst toggleRecord = (entry: FuelRecordItem) => {\n  const next = {\n    ...expandedRecordMap.value,\n    [entry.id]: !expandedRecordMap.value[entry.id]\n  }\n  expandedRecordMap.value = next\n}\n\nconst handleLoginRequired = () => {\n  if (!isLoggedIn.value) {\n    showLoginSheet.value = true\n  }\n}\n\nwatch(currentYear, () => {\n  expandedRecordMap.value = {}\n  runPageEnterAnimation()\n})\n\r\nonShow(() => {\n  refreshLoginState()\n  runPageEnterAnimation()\n})\n\r\nonMounted(() => {\r\n  runPageEnterAnimation()\r\n})\r\n\r\nonUnmounted(() => {\r\n  if (enterAnimationTimer) {\r\n    clearTimeout(enterAnimationTimer)\r\n    enterAnimationTimer = null\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/uni.scss';\r\n\r\n.records-page {\r\n  min-height: 100vh;\r\n  background: linear-gradient(180deg, #f8fbff 0%, #f2f4f9 100%);\r\n  padding: 24rpx 32rpx 180rpx;\r\n\r\n  .animated-block {\r\n    opacity: 0;\r\n    transform: translate3d(0, 40rpx, 0) scale(0.98);\r\n    transition-property: opacity, transform;\r\n    transition-duration: 0.55s, 0.65s;\r\n    transition-timing-function: ease, cubic-bezier(0.22, 0.61, 0.36, 1);\r\n    will-change: opacity, transform;\r\n  }\r\n\r\n  .animated-block--visible {\r\n    opacity: 1;\r\n    transform: translate3d(0, 0, 0) scale(1);\r\n  }\r\n\r\n  .animated-block--delay-0 {\r\n    transition-delay: 80ms;\r\n  }\r\n\r\n  .list-animated {\r\n    opacity: 0;\r\n    transform: translate3d(0, 32rpx, 0);\r\n    transition: opacity 0.45s ease, transform 0.6s cubic-bezier(0.19, 1, 0.22, 1);\r\n    transition-delay: var(--list-delay, 0ms);\r\n    will-change: opacity, transform;\r\n  }\r\n\r\n  .list-animated--visible {\r\n    opacity: 1;\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n\r\n  .summary-panel {\r\n    position: relative;\r\n    overflow: hidden;\r\n    padding: 32rpx;\r\n    margin-bottom: 32rpx;\r\n    border-radius: 32rpx;\r\n    // background: linear-gradient(110deg, #cde6ff, #dfeeff 70%);\r\n    background: linear-gradient(135deg, #ede6ff 0%, #f4f1ff 55%, #e9fdf2 100%);\r\n    box-shadow: 0 20rpx 40rpx rgba(0, 83, 156, 0.1);\r\n\r\n    &::before,\r\n    &::after {\r\n      content: '';\r\n      position: absolute;\r\n      inset: 0;\r\n      pointer-events: none;\r\n    }\r\n\r\n    &::before {\r\n      background: radial-gradient(circle at 0% 0%, rgba(255, 255, 255, 0.7), transparent 45%),\r\n        radial-gradient(circle at 100% 20%, rgba(255, 255, 255, 0.35), transparent 40%);\r\n      opacity: 0.65;\r\n      mix-blend-mode: screen;\r\n      animation: summaryGlow 12s ease-in-out infinite alternate;\r\n    }\r\n\r\n    &::after {\r\n      background: linear-gradient(120deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.5) 45%, rgba(255, 255, 255, 0) 80%);\r\n      transform: translateX(-60%);\r\n      animation: summarySweep 6s linear infinite;\r\n      opacity: 0.4;\r\n    }\r\n\r\n    .summary-panel__bg {\r\n      position: absolute;\r\n      width: 200rpx;\r\n      height: 200rpx;\r\n      border-radius: 50%;\r\n      background: rgba(255, 255, 255, 0.3);\r\n      filter: blur(0.5px);\r\n    }\r\n\r\n    .summary-panel__bg--left {\r\n      top: -40rpx;\r\n      left: -40rpx;\r\n    }\r\n\r\n    .summary-panel__bg--right {\r\n      bottom: -60rpx;\r\n      right: -20rpx;\r\n    }\r\n\r\n    .summary-head {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 24rpx;\r\n      position: relative;\r\n      z-index: 1;\r\n    }\r\n\r\n    .summary-picker {\r\n      // width: 260rpx;\r\n    }\r\n\r\n    .summary-year {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 8rpx;\r\n      padding: 10rpx 18rpx;\r\n      border-radius: 30rpx;\r\n      border: 2rpx solid rgba(255, 255, 255, 0.6);\r\n      color: #1f2329;\r\n      font-size: 26rpx;\r\n      font-weight: 600;\r\n      background: rgba(255, 255, 255, 0.6);\r\n\r\n      .icon-youjiantou {\r\n        font-size: 18rpx;\r\n        transform: rotate(90deg);\r\n        margin-top: 6rpx;\r\n      }\r\n    }\r\n\r\n    .summary-chip {\r\n      padding: 10rpx 20rpx;\r\n      border-radius: 30rpx;\r\n      font-size: 24rpx;\r\n      color: #1f2329;\r\n      background: rgba(255, 255, 255, 0.7);\r\n    }\r\n\r\n    .summary-total {\r\n      position: relative;\r\n      z-index: 1;\r\n      margin-bottom: 28rpx;\r\n\r\n      .summary-total__value {\r\n        font-size: 48rpx;\r\n        font-weight: 700;\r\n      }\r\n\r\n      .summary-total__label {\r\n        display: block;\r\n        font-size: 24rpx;\r\n        color: rgba(10, 41, 90, 0.7);\r\n      }\r\n    }\r\n\r\n    .summary-grid {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      position: relative;\r\n      z-index: 1;\r\n\r\n      .summary-stat {\r\n        flex: 1;\r\n        color: #1f2329;\r\n\r\n        .summary-stat__label {\r\n          display: block;\r\n          font-size: 24rpx;\r\n          opacity: 0.8;\r\n        }\r\n\r\n        .summary-stat__value {\r\n          display: block;\r\n          font-size: 28rpx;\r\n          font-weight: 600;\r\n        }\r\n      }\r\n\r\n      .summary-stat:not(:last-child) {\r\n        border-right: 2rpx solid rgba(255, 255, 255, 0.4);\r\n        margin-right: 16rpx;\r\n        padding-right: 16rpx;\r\n      }\r\n    }\r\n  }\r\n\r\n  .records-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20rpx;\r\n\r\n    .record-card {\r\n      background: #fff;\r\n      border-radius: 28rpx;\r\n      padding: 28rpx;\r\n      box-shadow: 0 12rpx 30rpx rgba(15, 114, 59, 0.08);\r\n      transition: box-shadow 0.35s ease, transform 0.35s ease;\r\n      position: relative;\r\n      overflow: hidden;\r\n      border: 1rpx solid rgba(15, 114, 59, 0.1);\r\n\r\n      &::before,\r\n      &::after {\r\n        content: '';\r\n        position: absolute;\r\n        inset: 0;\r\n        pointer-events: none;\r\n        border-radius: inherit;\r\n      }\r\n\r\n      &::before {\r\n        background: linear-gradient(135deg, rgba(64, 160, 255, 0.08), rgba(30, 193, 95, 0.12));\r\n        opacity: 0;\r\n        transition: opacity 0.35s ease;\r\n      }\r\n\r\n      &::after {\r\n        inset: -60% -30% auto -30%;\r\n        height: 140rpx;\r\n        background: linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.55), rgba(255, 255, 255, 0));\r\n        transform: translate3d(0, -50%, 0) rotate(-8deg);\r\n        animation: cardShimmer 7s linear infinite;\r\n        opacity: 0.2;\r\n      }\r\n\r\n      .record-card__top {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        // gap: 24rpx;\r\n\r\n        .record-date {\r\n          flex: 1;\r\n          position: relative;\r\n          padding-left: 20rpx;\r\n\r\n          .record-date__value {\r\n            font-size: 32rpx;\r\n            // font-weight: 700;\r\n          }center\r\n\r\n          .record-date__week {\r\n            display: block;\r\n            font-size: 22rpx;\r\n            color: $muted-text;\r\n          }\r\n        }\r\n\r\n        .record-date::before {\r\n          content: '';\r\n          position: absolute;\r\n          left: 0;\r\n          top: 8rpx;\r\n          width: 6rpx;\r\n          height: 32rpx;\r\n          border-radius: 4rpx;\r\n          background: linear-gradient(180deg, #00a3ff, #4bc9ff);\r\n        }\r\n\r\n        .record-consumption {\r\n          flex: 1;\r\n          // display: flex;\r\n          // align-items: flex-end;\r\n          gap: 12rpx;\r\n\r\n          .record-consumption__value {\r\n            font-size: 40rpx;\r\n            font-weight: 600;\r\n            color: $primary-dark;\r\n          }\r\n\r\n          .record-consumption__unit {\r\n            font-size: 22rpx;\r\n            color: $muted-text;\r\n          }\r\n        }\r\n\r\n        .record-mileage {\r\n          // flex: 1;\r\n          margin-left: 30rpx;\r\n          // text-align: right;\r\n\r\n          .record-mileage__value {\r\n            font-size: 40rpx;\r\n            font-weight: 600;\r\n          }\r\n\r\n          .record-mileage__unit {\r\n            // display: block;\r\n            margin-left: 12rpx;\r\n            font-size: 22rpx;\r\n            color: $muted-text;\r\n          }\r\n        }\r\n\r\n        .record-arrow {\r\n          font-size: 20rpx;\r\n          color: $muted-text;\r\n          padding-left: 12rpx;\r\n          display: inline-block;\r\n          transition: transform 0.2s ease;\r\n          margin-top: 16rpx;\r\n          transform-origin: center;\r\n        }\r\n\r\n        .record-arrow--expanded {\r\n          transform: rotate(90deg);\r\n          margin-top: 0;\r\n        }\r\n      }\r\n\r\n      .record-details {\r\n        margin-top: 20rpx;\r\n        padding: 24rpx;\r\n        border-radius: 20rpx;\r\n        background: #fff;\r\n        border: 2rpx solid rgba(31, 35, 41, 0.06);\r\n\r\n        .record-meta {\r\n          display: flex;\r\n          justify-content: space-between;\r\n        align-items: center;\r\n          margin-bottom: 20rpx;\r\n          gap: 12rpx;\r\n\r\n          .record-meta__value {\r\n            flex: 1;\r\n            text-align: left;\r\n            font-size: 26rpx;\r\n            font-weight: 600;\r\n            color: #1f2329;\r\n            white-space: nowrap;\r\n          }\r\n        }\r\n\r\n        .record-remark {\r\n          margin-top: 8rpx;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: flex-start;\r\n\r\n          .record-remark__text {\r\n            font-size: 26rpx;\r\n            color: #1f2329;\r\n            display: flex;\r\n            align-items: center;\r\n            gap: 12rpx;\r\n          }\r\n\r\n          .record-remark__oil {\r\n            font-weight: 600;\r\n            color: #1f2329;\r\n          }\r\n\r\n          .record-remark__status {\r\n            font-weight: 600;\r\n            margin-left: 12rpx;\r\n          }\r\n\r\n          .record-remark__status--danger {\r\n            color: #d44848;\r\n          }\r\n\r\n          .record-remark__status--accent {\r\n            color: $primary-dark;\r\n          }\r\n\r\n          .record-edit {\r\n            width: 44rpx;\r\n            height: 44rpx;\r\n            border-radius: 14rpx;\r\n            background: rgba(30, 193, 95, 0.12);\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            font-size: 28rpx;\r\n            color: #1ec15f;\r\n            font-weight: 600;\r\n            align-self: flex-end;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .record-card--compact {\r\n      padding: 24rpx;\r\n    }\r\n\r\n    .record-card--expanded {\r\n      transform: translateY(-6rpx);\r\n      box-shadow: 0 18rpx 46rpx rgba(13, 102, 53, 0.18);\r\n\r\n      &::before {\r\n        opacity: 1;\r\n      }\r\n    }\r\n\r\n    .record-card__hover {\r\n      background: #fefefe;\r\n    }\r\n\r\n    .record-card--alert {\r\n      .record-consumption__value {\r\n        color: #e64a3b;\r\n      }\r\n    }\r\n\r\n    .comparison-card {\r\n      background: #f5fbf6;\r\n      border-radius: 28rpx;\r\n      padding: 26rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 16rpx;\r\n      border: 2rpx solid rgba(30, 193, 95, 0.1);\r\n      position: relative;\r\n      overflow: hidden;\r\n      transition: box-shadow 0.3s ease;\r\n\r\n      &::after {\r\n        content: '';\r\n        position: absolute;\r\n        inset: 0;\r\n        background: linear-gradient(90deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));\r\n        animation: comparisonSweep 6s linear infinite;\r\n        opacity: 0.6;\r\n        pointer-events: none;\r\n      }\r\n\r\n      .comparison-value {\r\n        flex: 1;\r\n        font-size: 28rpx;\r\n        font-weight: 600;\r\n        color: #1f2329;\r\n        text-align: center;\r\n      }\r\n\r\n      .comparison-arrow {\r\n        font-size: 26rpx;\r\n        color: $muted-text;\r\n      }\r\n    }\r\n\r\n    .comparison-card--success {\r\n      background: rgba(30, 193, 95, 0.12);\r\n      border-color: rgba(30, 193, 95, 0.3);\r\n      box-shadow: 0 18rpx 36rpx rgba(30, 193, 95, 0.18);\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes summaryGlow {\r\n  0% {\r\n    transform: scale(1);\r\n    opacity: 0.4;\r\n  }\r\n  100% {\r\n    transform: scale(1.04);\r\n    opacity: 0.7;\r\n  }\r\n}\r\n\r\n@keyframes summarySweep {\r\n  0% {\r\n    transform: translateX(-80%);\r\n  }\r\n  100% {\r\n    transform: translateX(120%);\r\n  }\r\n}\r\n\r\n@keyframes cardShimmer {\r\n  0% {\r\n    transform: translate3d(-20%, -50%, 0) rotate(-8deg);\r\n    opacity: 0;\r\n  }\r\n  40% {\r\n    opacity: 0.25;\r\n  }\r\n  100% {\r\n    transform: translate3d(140%, -50%, 0) rotate(-8deg);\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes comparisonSweep {\r\n  0% {\r\n    transform: translateX(-120%);\r\n  }\r\n  100% {\r\n    transform: translateX(120%);\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Learn/projectFile/cat-life-uniapp-wechat/pages/records/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useAuth","ref","computed","watch","onShow","onMounted","onUnmounted"],"mappings":";;;;;;AAoJA,MAAA,kBAA4B,MAAA;AAC5B,MAAA,eAAyB,MAAA;;;;AAyCzB,UAAM,EAAE,YAAY,kBAAkB,IAAIA,WAAQ,QAAA;AAC5C,UAAA,iBAAiBC,kBAAI,KAAK;AAEhC,UAAM,cAAc,CAAC,QAAQ,QAAQ,MAAM;AACrC,UAAA,oBAAoBA,kBAAI,CAAC;AAE/B,UAAM,mBAAoD;AAAA,MACxD,QAAQ;AAAA,QACN,aAAa;AAAA,QACb,SAAS;AAAA,QACT,eAAe;AAAA,QACf,SAAS;AAAA,MACX;AAAA,IAAA;AAGF,UAAM,kBAAgD;AAAA,MACpD,QAAQ;AAAA,QACN;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,WAAW;AAAA,UACX,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,UACE,MAAM;AAAA,UACN,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,aAAa;AAAA,UACb,SAAS;AAAA,UACT,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,eAAe;AAAA,UACf,WAAW;AAAA,UACX,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,gBAAgB;AAAA,UAChB,iBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,YAAY;AAAA,QACd;AAAA,MACF;AAAA,IAAA;AAGF,UAAM,cAAcC,cAAA;AAAA,MAClB,MAAM,YAAY,kBAAkB,KAAK,KAAK,YAAY,CAAC;AAAA,IAAA;AAG7D,UAAM,cAAcA,cAAA;AAAA,MAClB,MAAM,iBAAiB,YAAY,KAAK,KAAK,iBAAiB,YAAY,CAAC,CAAC;AAAA,IAAA;AAG9E,UAAM,iBAAiBA,cAAA;AAAA,MACrB,MAAM,gBAAgB,YAAY,KAAK,KAAK,CAAC;AAAA,IAAA;AAGzC,UAAA,iBAAiBD,kBAAI,KAAK;AAChC,QAAI,sBAA4D;AAEhE,UAAM,wBAAwB,MAAM;AAClC,UAAI,qBAAqB;AACvB,qBAAa,mBAAmB;AACV,8BAAA;AAAA,MACxB;AACA,qBAAe,QAAQ;AACvB,4BAAsB,WAAW,MAAM;AACrC,uBAAe,QAAQ;AAAA,SACtB,EAAE;AAAA,IAAA;AAGP,UAAM,uBAAuB,CAC3B,OACA,UAAiC,WAC9B;AACH,YAAM,eAAe,KAAK,IAAI,OAAO,CAAC;AAChC,YAAA,aAAa,YAAY,eAAe,MAAM;AAC7C,aAAA;AAAA,QACL,gBAAgB,GAAG,eAAe,KAAK,UAAU;AAAA,MAAA;AAAA,IACnD;AAGI,UAAA,mBAAmB,CAAC,UAAyC;AACjE,wBAAkB,QAAQ,OAAO,MAAM,OAAO,KAAK;AAAA,IAAA;AAGrD,UAAM,eAAe,CAAC,UACpB,MAAM,SAAS;AAEX,UAAA,oBAAoBA,kBAA6B,CAAA,CAAE;AAEzD,UAAM,aAAa,CAAC,OAAe,QAAQ,kBAAkB,MAAM,EAAE,CAAC;AAEhE,UAAA,eAAe,CAAC,UAA0B;AAC9C,YAAM,OAAO;AAAA,QACX,GAAG,kBAAkB;AAAA,QACrB,CAAC,MAAM,EAAE,GAAG,CAAC,kBAAkB,MAAM,MAAM,EAAE;AAAA,MAAA;AAE/C,wBAAkB,QAAQ;AAAA,IAAA;AAG5B,UAAM,sBAAsB,MAAM;AAC5B,UAAA,CAAC,WAAW,OAAO;AACrB,uBAAe,QAAQ;AAAA,MACzB;AAAA,IAAA;AAGFE,kBAAA,MAAM,aAAa,MAAM;AACvB,wBAAkB,QAAQ;AACJ;IAAA,CACvB;AAEDC,kBAAAA,OAAO,MAAM;AACO;AACI;IAAA,CACvB;AAEDC,kBAAAA,UAAU,MAAM;AACQ;IAAA,CACvB;AAEDC,kBAAAA,YAAY,MAAM;AAChB,UAAI,qBAAqB;AACvB,qBAAa,mBAAmB;AACV,8BAAA;AAAA,MACxB;AAAA,IAAA,CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClfD,GAAG,WAAW,eAAe;"}